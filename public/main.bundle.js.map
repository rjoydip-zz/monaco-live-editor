{"version":3,"sources":["E:/work/ng-monaco-editor/src/$_lazy_route_resource lazy","E:/work/ng-monaco-editor/src/app/app.component.html","E:/work/ng-monaco-editor/src/app/app.component.ts","E:/work/ng-monaco-editor/src/app/app.module.ts","E:/work/ng-monaco-editor/src/environments/environment.ts","E:/work/ng-monaco-editor/src/main.ts","util (ignored)","fs (ignored)"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,yF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gNCVA,oKAAyB,KAAM,qFAC/B;;;;;;;;;;;;;;;;;ACCiC;AACC;AAKlC;IAkBE,sBACU,IAAY;QAAZ,SAAI,GAAJ,IAAI,CAAQ;QAEpB,IAAI,CAAC,SAAS,GAAG,0BAA0B,CAAC;QAC5C,IAAI,CAAC,KAAK,GAAG,uJAAqJ,CAAC;QACnK,IAAI,CAAC,EAAE,GAAG,oDAAK,CAAC,iDAAS,CAAC,sBAAsB,EAAE;YAChD,qCAAqC;SACtC,CAAC,EAAE,EAED,CAAC;IACN,CAAC;IAED,sCAAe,GAAf;QAAA,iBAmBC;QAlBC,IAAI,cAAc,GAAG;YACnB,cAAc;YACR,MAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,mBAAmB,EAAE,EAAE,CAAC,CAAC;YACjE,MAAO,CAAC,OAAO,CAAC,CAAC,uBAAuB,CAAC,EAAE;gBAC/C,KAAI,CAAC,UAAU,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;QAEF,+BAA+B;QAC/B,EAAE,CAAC,CAAC,CAAO,MAAO,CAAC,OAAO,CAAC,CAAC,CAAC;YAC3B,IAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACtD,YAAY,CAAC,IAAI,GAAG,iBAAiB,CAAC;YACtC,YAAY,CAAC,GAAG,GAAG,6BAA6B,CAAC;YACjD,YAAY,CAAC,gBAAgB,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;YACtD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QAC1C,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,cAAc,EAAE,CAAC;QACnB,CAAC;IACH,CAAC;IAED,kDAAkD;IAClD,iCAAU,GAAV;QAAA,iBAqGC;QApGC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;QAClD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE;YACjD,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,QAAQ,EAAE,YAAY;YACtB,KAAK,EAAE,SAAS;YAChB,OAAO,EAAE;gBACP,OAAO,EAAE,KAAK,CAAC,UAAU;aAC1B;YACD,eAAe,EAAE,IAAI;YACrB,QAAQ,EAAE,SAAS;YACnB,WAAW,EAAE,IAAI;YACjB,oBAAoB,EAAE,EAAE;YACxB,QAAQ,EAAE,EAAE;YACZ,UAAU,EAAE,KAAK;YACjB,YAAY,EAAE,IAAI;YAClB,aAAa,EAAE,IAAI;YACnB,WAAW,EAAE,IAAI;YACjB,UAAU,EAAE,IAAI;YAChB,cAAc,EAAE,IAAI;YACpB,gBAAgB,EAAE,IAAI;YACtB,YAAY,EAAE,IAAI;YAClB,WAAW,EAAE,IAAI;SAClB,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QAEpB,wBAAwB;QACxB,IAAI,aAAa,GAAG;YAClB,OAAO,EAAE,IAAI;YACb,KAAK,EAAE;gBACL,MAAM,CAAC,mBAAmB,CAAC;YAC7B,CAAC;YACD,UAAU,EAAE;gBACV,IAAM,gBAAgB,GAAG,KAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;gBACrD,IAAM,oBAAoB,GAAG,KAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;gBACvD,IAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC5C,OAAO,CAAC,SAAS,GAAG,qDAA+C,oBAAoB,CAAC,YAAY,CAAC,cAAS,oBAAoB,CAAC,QAAQ,CAAC,SAAM,CAAC;gBAEnJ,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC;gBAClC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,oBAAoB,CAAC;gBAC3C,OAAO,CAAC,KAAK,CAAC,eAAe,GAAG,kBAAkB,CAAC;gBACnD,OAAO,CAAC,KAAK,CAAC,GAAG,GAAM,gBAAgB,CAAC,QAAQ,CAAC,GAAG,EAAE,OAAI,CAAC;gBAC3D,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;gBAC7B,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,YAAY,CAAC;gBACvC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;gBAC9B,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;gBAChC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,UAAU,CAAC;gBACnC,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;gBAClC,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,OAAO,CAAC;gBAClC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;gBAEjC,MAAM,CAAC,OAAO,CAAC;YACjB,CAAC;YACD,WAAW,EAAE;gBACX,MAAM,CAAC,IAAI,CAAC;YACd,CAAC;SACF,CAAC;QACF,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC;QAE5C,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YAEZ,qEAAqE;YACrE,KAAI,CAAC,MAAM,CAAC,WAAW,CAAC;gBACtB,IAAI,iBAAiB,GAAG,KAAI,CAAC,SAAS,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;gBACrE,IAAM,oBAAoB,GAAG,KAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;gBACvD,iBAAiB,CAAC,SAAS,GAAG,QAAM,oBAAoB,CAAC,YAAY,CAAC,cAAS,oBAAoB,CAAC,QAAQ,CAAG,CAAC;YAClH,CAAC,CAAC,CAAC;YAEH,KAAI,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,EAAE,UAAC,IAAI,EAAE,EAAE;gBAC7B,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,EAAE,CAAC;gBAE3C,KAAI,CAAC,MAAM,CAAC,SAAS,CAAC,WAAC;oBACrB,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;oBACpC,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;oBACxB,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;oBACtB,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC;gBAC1B,CAAC,CAAC,CAAC;gBAEH,KAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC;oBAC3B,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;oBACpC,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;oBACxB,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;oBACtB,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC;gBACjC,CAAC,CAAC;gBAEF,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,UAAC,IAAI;oBACnB,6BAA6B;oBAC7B,+BAA+B;oBAC/B,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACxC,CAAC,CAAC,CAAC;YAEL,CAAC,CAAC;YAEF,KAAI,CAAC,EAAE,CAAC,EAAE,CAAC,YAAY,EAAE,UAAC,IAAI,EAAE,EAAE;gBAChC,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,EAAE,CAAC;YAC9C,CAAC,CAAC;QAGJ,CAAC,CAAC,CAAC;IAEL,CAAC;IAEH,mBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5JD;AAAA;IAAA;IAUyB,CAAC;IAAD,gBAAC;AAAD,CAAC;;;;;;;;;;ACjB1B;AAAA,mFAAmF;AACnF,8FAA8F;AAC9F,yEAAyE;AACzE,gFAAgF;AAEzE,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;;;;;;;;;;;;;;ACP6C;AAIU;;;AAEzD,EAAE,CAAC,CAAC,8EAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,6EAAc,EAAE,CAAC;AACnB,CAAC;AAED,oFAAwB,uBAAgB,uFAAW;KAChD,KAAK,CAAC,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CAAC,CAAC;;;;;;;;;;;;;;;;ACXlC,e;;;;;;;ACAA,e","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// E:/work/ng-monaco-editor/src/$$_lazy_route_resource lazy\n// module id = ../../../../../src/$$_lazy_route_resource lazy recursive\n// module chunks = main","<div id=\"editor\" #editor></div>\r\n\n\n\n// WEBPACK FOOTER //\n// E:/work/ng-monaco-editor/src/app/app.component.html","import { Component, ViewChild, ElementRef, NgZone, TemplateRef } from '@angular/core';\r\n\r\nimport swarm from 'webrtc-swarm';\r\nimport signalhub from 'signalhub';\r\n\r\ndeclare const monaco: any;\r\ndeclare const require: any;\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n\r\n  private ipfs: any;\r\n  private sw: any;\r\n  private peer: any;\r\n  private room: any;\r\n  private editor: any;\r\n  private value: string;\r\n  private myChannel: String;\r\n  private editorDiv: HTMLDivElement;\r\n\r\n  @ViewChild('editor') editorContent: ElementRef;\r\n\r\n  constructor(\r\n    private zone: NgZone\r\n  ) {\r\n    this.myChannel = 'ng-monaco-editor-channel';\r\n    this.value = `\"use strict\";\\nfunction Person(age) {\\n\\tif (age) {\\n\\t\\tthis.age = age;\\n\\t}\\n}\\n\\nPerson.prototype.getAge = function () {\\n\\treturn this.age;\\n};`;\r\n    this.sw = swarm(signalhub('ng-monaco-editor-app', [\r\n      'https://signalhub-hzbibrznqa.now.sh'\r\n    ]), {\r\n        // wrtc: require('wrtc') // don't need this if used in the browser\r\n      })\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    let onGotAmdLoader = () => {\r\n      // Load monaco\r\n      (<any>window).require.config({ paths: { 'vs': '/assets/monaco/vs' } });\r\n      (<any>window).require(['vs/editor/editor.main'], () => {\r\n        this.initMonaco();\r\n      });\r\n    };\r\n\r\n    // Load AMD loader if necessary\r\n    if (!(<any>window).require) {\r\n      const loaderScript = document.createElement('script');\r\n      loaderScript.type = 'text/javascript';\r\n      loaderScript.src = '/assets/monaco/vs/loader.js';\r\n      loaderScript.addEventListener('load', onGotAmdLoader);\r\n      document.body.appendChild(loaderScript);\r\n    } else {\r\n      onGotAmdLoader();\r\n    }\r\n  }\r\n\r\n  // Will be called once monaco library is available\r\n  initMonaco() {\r\n    this.editorDiv = this.editorContent.nativeElement;\r\n    this.editor = monaco.editor.create(this.editorDiv, {\r\n      value: this.value,\r\n      language: 'javascript',\r\n      theme: 'vs-dark', // 'vs' | 'vs-dark' | 'hc-black'\r\n      minimap: {\r\n        enabled: false // boolean\r\n      },\r\n      automaticLayout: true, // boolean\r\n      wordWrap: 'bounded', // 'off' | 'on' | 'wordWrapColumn' | 'bounded';\r\n      lineNumbers: 'on', //  'on' | 'off' | 'relative' | ((lineNumber: number) => string);\r\n      lineDecorationsWidth: 30, // number | string;\r\n      fontSize: 16, // number \r\n      fontWeight: '500',\r\n      formatOnType: true,\r\n      formatOnPaste: true,\r\n      dragAndDrop: true,\r\n      autoIndent: true,\r\n      mouseWheelZoom: true,\r\n      roundedSelection: true,\r\n      insertSpaces: true,\r\n      glyphMargin: true\r\n    });\r\n\r\n    this.editor.focus();\r\n\r\n    // Add an overlay widget\r\n    var overlayWidget = {\r\n      domNode: null,\r\n      getId: () => {\r\n        return 'my.overlay.widget';\r\n      },\r\n      getDomNode: () => {\r\n        const editorLayoutInfo = this.editor.getLayoutInfo();\r\n        const editorCursorPosition = this.editor.getPosition();\r\n        let domNode = document.createElement('div');\r\n        domNode.innerHTML = `<a id=\"status-line\" title=\"Current Line\">Ln ${editorCursorPosition['lineNumber']}, Col ${editorCursorPosition['column']}</a>`;\r\n\r\n        domNode.style.background = 'grey';\r\n        domNode.style.color = 'rgb(255, 255, 255)';\r\n        domNode.style.backgroundColor = 'rgb(0, 122, 204)';\r\n        domNode.style.top = `${editorLayoutInfo['height'] - 21}px`;\r\n        domNode.style.width = '100%';\r\n        domNode.style.boxSizing = 'border-box';\r\n        domNode.style.height = '22px';\r\n        domNode.style.fontSize = '12px';\r\n        domNode.style.padding = '1px 10px';\r\n        domNode.style.overflow = 'hidden';\r\n        domNode.style.textAlign = 'right';\r\n        domNode.style.cursor = 'pointer';\r\n\r\n        return domNode;\r\n      },\r\n      getPosition: () => {\r\n        return null;\r\n      }\r\n    };\r\n    this.editor.addOverlayWidget(overlayWidget);\r\n\r\n    this.zone.run(() => {\r\n\r\n      // Update line numbers of cursor's current position in the status bar\r\n      this.editor.onMouseDown(() => {\r\n        let statusLineContent = this.editorDiv.querySelector('#status-line');\r\n        const editorCursorPosition = this.editor.getPosition();\r\n        statusLineContent.innerHTML = `Ln ${editorCursorPosition['lineNumber']}, Col ${editorCursorPosition['column']}`;\r\n      });\r\n\r\n      this.sw.on('connect', (peer, id) => {\r\n        console.log('connected to a new peer:', id)\r\n\r\n        this.editor.onKeyDown(e => {\r\n          this.value = this.editor.getValue();\r\n          console.log(this.value);\r\n          peer.send(this.value);\r\n          console.log(\"onKeyDown\")\r\n        });\r\n\r\n        this.editor.onDidFocusEditor(() => {\r\n          this.value = this.editor.getValue();\r\n          console.log(this.value);\r\n          peer.send(this.value);\r\n          console.log(\"onDidFocusEditor\")\r\n        })\r\n\r\n        peer.on('data', (data) => {\r\n          // got a data channel message\r\n          // console.log(data.toString())\r\n          this.editor.setValue(data.toString());\r\n        });\r\n\r\n      })\r\n\r\n      this.sw.on('disconnect', (peer, id) => {\r\n        console.log('disconnected from a peer:', id)\r\n      })\r\n\r\n\r\n    });\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// E:/work/ng-monaco-editor/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\n\r\nimport { AppComponent } from './app.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// E:/work/ng-monaco-editor/src/app/app.module.ts","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// E:/work/ng-monaco-editor/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n\n\n\n// WEBPACK FOOTER //\n// E:/work/ng-monaco-editor/src/main.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// util (ignored)\n// module id = 1\n// module chunks = main","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// fs (ignored)\n// module id = 2\n// module chunks = main"],"sourceRoot":"webpack:///"}